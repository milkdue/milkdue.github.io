<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>npm | 可以清心</title><meta name="keywords" content="javascript"><meta name="author" content="可以清心"><meta name="copyright" content="可以清心"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="npm 介绍 npm 全名 node package manager 基本命令 1234567891011# 查看 npm 命令列表npm help# 查看各个命令的简单用法npm -l# 查看 npm 版本npm -v# 查看 npm 配置npm config list -l npm 使用  npm init 一路回车，初始化 package.json 文件 如果使用 -f(代表 force)、"><meta property="og:type" content="article"><meta property="og:title" content="npm"><meta property="og:url" content="https://blog.keyiqingxin.cn/a1345b2b/index.html"><meta property="og:site_name" content="可以清心"><meta property="og:description" content="npm 介绍 npm 全名 node package manager 基本命令 1234567891011# 查看 npm 命令列表npm help# 查看各个命令的简单用法npm -l# 查看 npm 版本npm -v# 查看 npm 配置npm config list -l npm 使用  npm init 一路回车，初始化 package.json 文件 如果使用 -f(代表 force)、"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://cdn.keyiqingxin.cn/cover/871047.png"><meta property="article:published_time" content="2023-04-18T14:46:53.000Z"><meta property="article:modified_time" content="2023-04-18T14:52:23.000Z"><meta property="article:author" content="可以清心"><meta property="article:tag" content="javascript"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://cdn.keyiqingxin.cn/cover/871047.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://blog.keyiqingxin.cn/a1345b2b/"><link rel="preconnect" href="//cdn.jsdelivr.net"><link rel="preconnect" href="//hm.baidu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><meta name="baidu_site_verification" content="code-vvu3hMVkFQ"><link rel="manifest" href="/manifest.json"><meta name="msapplication-TileColor" content="#212121"><link rel="apple-touch-icon" sizes="180x180" href="/img/siteicon/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/img/siteicon/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/img/siteicon/favicon-16x16.png"><link rel="mask-icon" href="/img/siteicon/safari-pinned-tab.svg" color="#5bbad5"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/css/index.css"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/fontawesome/all.min.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/snackbar/snackbar.min.css" media="print" onload='this.media="all"'><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="https://hm.baidu.com/hm.js?1668a6d436fb091fab3554501beeff3a";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()</script><script>const GLOBAL_CONFIG={root:"/",algolia:void 0,localSearch:{path:"search.xml",languages:{hits_empty:"找不到您查询的内容：${query}"}},translate:{defaultEncoding:1,translateDelay:0,msgToTraditionalChinese:"繁",msgToSimplifiedChinese:"簡"},noticeOutdate:{limitDay:30,position:"top",messagePrev:"读者请注意，本文章更新于",messageNext:"天前，文中某些信息可能已经过时，如有任何问题，请在文章末尾评论处留言！"},highlight:{plugin:"highlighjs",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:200},copy:{success:"吾辈宣布你的剪贴板已经被我占领啦！",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!0,post:!1},runtime:"",date_suffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:{chs_to_cht:"你已切换为繁体",cht_to_chs:"你已切换为简体",day_to_night:"你已切换为深色模式",night_to_day:"你已切换为浅色模式",bgLight:"#49b1f5",bgDark:"#2d3035",position:"top-center"},source:{jQuery:"https://cdn.keyiqingxin.cn/jquery/jquery.min.js",justifiedGallery:{js:"https://cdn.keyiqingxin.cn/justifiedGallery/js/jquery.justifiedGallery.min.js",css:"https://cdn.keyiqingxin.cn/justifiedGallery/css/justifiedGallery.min.css"},fancybox:{js:"https://cdn.keyiqingxin.cn/fancybox/jquery.fancybox.min.js",css:"https://cdn.keyiqingxin.cn/fancybox/jquery.fancybox.min.css"}},isPhotoFigcaption:!0,islazyload:!1,isanchor:!0}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-04-18 22:52:23"}</script><noscript><style>#nav{opacity:1}.justified-gallery img{opacity:1}#post-meta time,#recent-posts time{display:inline!important}</style></noscript><script>(e=>{e.saveToLocal={set:function(e,t,o){if(0===o)return;const a=864e5*o,n={value:t,expiry:(new Date).getTime()+a};localStorage.setItem(e,JSON.stringify(n))},get:function(e){const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!((new Date).getTime()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=e=>new Promise((t,o)=>{const a=document.createElement("script");a.src=e,a.async=!0,a.onerror=o,a.onload=a.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(a.onload=a.onreadystatechange=null,t())},document.head.appendChild(a)}),e.activateDarkMode=function(){document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=function(){document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme"),o=(new Date).getHours();void 0===t?o<=6||o>=18?activateDarkMode():activateLightMode():"light"===t?activateLightMode():activateDarkMode();const a=saveToLocal.get("aside-status");void 0!==a&&("hide"===a?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));const n=saveToLocal.get("global-font-size");void 0!==n&&document.documentElement.style.setProperty("--global-font-size",n+"px")})(window)</script><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/css/my.css"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/css/twikoo_beautify.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/css/fixed_comment.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/css/comment_barrage.css"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/tianli_gpt/tianli-gpt.css"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/bdhistory/css/main.css"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/zfswiper/swiper.min.css"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/zfswiper/swiperstyle.css"><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/animate/animate.min.css" media="print" onload='this.media="screen"'><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/runtime/runtime.css" media="print" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/css/font-awesome-animation.min.css" media="defer" onload='this.media="all"'><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/tag_plugin/tag_plugins.css" media="defer" onload='this.media="all"'><script src="https://cdn.keyiqingxin.cn/carousel/carousel-touch.js"></script><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/tag_plugin/mindmap.css" media="defer" onload='this.media="all"'><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="wizard-scene"><div class="wizard-objects"><div class="wizard-square"></div><div class="wizard-circle"></div><div class="wizard-triangle"></div></div><div class="wizard"><div class="wizard-body"></div><div class="wizard-right-arm"><div class="wizard-right-hand"></div></div><div class="wizard-left-arm"><div class="wizard-left-hand"></div></div><div class="wizard-head"><div class="wizard-beard"></div><div class="wizard-face"><div class="wizard-adds"></div></div><div class="wizard-hat"><div class="wizard-hat-of-the-hat"></div><div class="wizard-four-point-star --first"></div><div class="wizard-four-point-star --second"></div><div class="wizard-four-point-star --third"></div></div></div></div></div></div><div id="web_bg" style="background:url(https://cdn.keyiqingxin.cn/cover/871047.png);background-attachment:local;background-position:center;background-size:cover;background-repeat:no-repeat"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="https://cdn.keyiqingxin.cn/avatar/avatar.jpg" onerror='onerror=null,src="https://cdn.keyiqingxin.cn/avatar/avatar1.jpg"' alt="avatar"></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">33</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">3</div></a></div></div></div><hr><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分類</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>光影</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-heartbeat"></i> <span>清單</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音樂</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>電影</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://picx.xpoet.cn/"><i class="fa-fw fa fa-bed"></i> <span>图床</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-envelope"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/chart/"><i class="fa-fw fa fa-map"></i> <span>統計</span></a></div><div class="menus_item"><a class="site-page" href="/sponsor/"><i class="fa-fw fa fa-gift"></i> <span>贊助</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友鏈</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://cdn.keyiqingxin.cn/cover/871047.png)"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">可以清心</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i> <span>搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i> <span>首頁</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i> <span>時間軸</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i> <span>標籤</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i> <span>分類</span></a></div><div class="menus_item"><a class="site-page" href="/gallery/"><i class="fa-fw fas fa-images"></i> <span>光影</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);" rel="external nofollow noreferrer"><i class="fa-fw fa fa-heartbeat"></i> <span>清單</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i> <span>音樂</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i> <span>電影</span></a></li><li><a class="site-page child" target="_blank" rel="noopener external nofollow noreferrer" href="https://picx.xpoet.cn/"><i class="fa-fw fa fa-bed"></i> <span>图床</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/comments/"><i class="fa-fw fa fa-envelope"></i> <span>留言板</span></a></div><div class="menus_item"><a class="site-page" href="/chart/"><i class="fa-fw fa fa-map"></i> <span>統計</span></a></div><div class="menus_item"><a class="site-page" href="/sponsor/"><i class="fa-fw fa fa-gift"></i> <span>贊助</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i> <span>友鏈</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">npm</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-18T14:46:53.000Z" title="发表于 2023-04-18 22:46:53">2023-04-18</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-18T14:52:23.000Z" title="更新于 2023-04-18 22:52:23">2023-04-18</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E5%AD%A6%E4%B9%A0-%E6%95%99%E7%A8%8B/">学习&amp;教程</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>22分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="npm"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1>npm</h1><h2 id="介绍">介绍</h2><p><code>npm</code> 全名 <code>node package manager</code></p><h2 id="基本命令">基本命令</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看 npm 命令列表</span></span><br><span class="line">npm <span class="built_in">help</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看各个命令的简单用法</span></span><br><span class="line">npm -l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 npm 版本</span></span><br><span class="line">npm -v</span><br><span class="line"></span><br><span class="line"><span class="comment"># 查看 npm 配置</span></span><br><span class="line">npm config list -l</span><br></pre></td></tr></table></figure><h2 id="npm-使用"><code>npm</code> 使用</h2><ol><li><code>npm init</code> 一路回车，初始化 <code>package.json</code> 文件</li><li>如果使用 <code>-f</code>(代表 <code>force</code>)、<code>-y</code>(代表 <code>yes</code>)直接跳过询问阶段，直接生成 <code>package.json</code> 文件</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br><span class="line">npm init -f</span><br><span class="line"></span><br><span class="line"><span class="comment"># -y 和 -f 一样的效果</span></span><br></pre></td></tr></table></figure><h2 id="npm-set-设置环境变量"><code>npm set</code> 设置环境变量</h2><ul><li><code>mac</code> 的配置文件在 <code>vim ~/.npmrc</code> *</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="built_in">set</span> init-author-name <span class="string">&#x27;your name&#x27;</span></span><br><span class="line">npm <span class="built_in">set</span> init-author-email <span class="string">&#x27;your email&#x27;</span></span><br><span class="line">npm <span class="built_in">set</span> init-author-url <span class="string">&#x27;your website&#x27;</span></span><br><span class="line">npm <span class="built_in">set</span> init-license <span class="string">&#x27;开源协议 MIT&#x27;</span></span><br></pre></td></tr></table></figure><p>上面命令等于为npm init设置了默认值，以后执行npm init的时候，package.json的作者姓名、邮件、主页、许可证字段就会自动写入预设的值。这些信息会存放在用户主目录的~/.npmrc文件，使得用户不用每个项目都输入</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 全局设置 下载的每个模块都确切版本，而不是一个可选的版本范围，版本前不带 ^ 或 ～</span></span><br><span class="line">npm <span class="built_in">set</span> save-exact <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果需要安装依赖时明确版本 固定依赖包axios的版本</span></span><br><span class="line">npm install axios --save-exact</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将指定的 $dir 目录，设为模块的全局安装目录，如果当前有这个目录的写权限，那么运行 npm i的时候，就不需要 sudo 命令授权了</span></span><br><span class="line">npm config <span class="built_in">set</span> prefix <span class="variable">$dir</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> save-prefix ~</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上面的命令使得 `npm install --save` 和 `npm install --save-dev` 安装新模块时允许的版本范围从克拉符号 ^ 改成 ～，即从允许小版本升级，变成只允许补丁包的升级，详细的规则后面会有介绍</span></span><br></pre></td></tr></table></figure><h2 id="npm-info"><code>npm info</code></h2><p><code>npm info</code> 命令可以查看每个模块的具体信息</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看underscore模块的信息</span></span><br><span class="line">npm info underscore</span><br><span class="line">npm info underscore description</span><br><span class="line">npm info underscore homepage</span><br><span class="line">npm info underscore version</span><br></pre></td></tr></table></figure><h2 id="npm-search"><code>npm search</code></h2><p><code>npm search</code> 命令用于搜索 <code>npm</code> 仓库，它后面可以跟字符串，也可以跟正则表达式</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm search &lt;搜索&gt;</span><br><span class="line"></span><br><span class="line">npm search axios</span><br></pre></td></tr></table></figure><h2 id="npm-list"><code>npm list</code></h2><p><code>npm list</code> 命令以树型结构列出当前项目安装的所有模块，以及它们依赖的模块</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">npm list</span><br><span class="line"></span><br><span class="line"><span class="comment"># 加上global参数，会列出全局安装的模块。</span></span><br><span class="line">npm list -global</span><br><span class="line"></span><br><span class="line"><span class="comment"># 列出单个模块</span></span><br><span class="line">npm list vue</span><br></pre></td></tr></table></figure><h2 id="npm-install"><code>npm install</code></h2><p><code>node</code> 模块采用 <code>npm install</code> 命令安装</p><p>每个模块都可以全局安装或是本地安装，全局安装指的是将一个模块安装到系统目录中，各个项目都可以调用，一般来说，全局安装只适合于工具模块，比如 <code>eslint</code> 和 <code>gulp</code>，本地安装指的是将一个模块下载到当前项目的 <code>node_modules</code> 子目录，在项目目录之中，才能调用这个模块</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 本地安装</span></span><br><span class="line">npm install &lt;package name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 全局安装</span></span><br><span class="line">npm install -g &lt;package name&gt;</span><br><span class="line">npm install -global &lt;package name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 也可以直接输入github代码库地址</span></span><br><span class="line">npm install git://github.com/package/path.git</span><br><span class="line">npm install git://github.com/package/path.git<span class="comment">#0.1.0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 强制重新安装</span></span><br><span class="line">npm install &lt;packageName&gt; --force</span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有模块强制重新安装，直接删除node_modules</span></span><br><span class="line">rm -rf node_modules</span><br><span class="line">npm install</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 下载最新的npm @latest表示最新版本 npm可以自己安装自己，之所以可以这样是因为 npm 本身和 node 其他模块没有区别</span></span><br><span class="line">npm install npm@latest -g</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="安装不同版本">安装不同版本</h3><p><code>npm i</code> 总是安装模块的最新版本，如果要安装模块的特定版本，可以在模块名后面加上特定的版本号</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">npm i axios@latest <span class="comment"># 安装最新版本</span></span><br><span class="line">npm i axios@0.1.1 <span class="comment"># 安装指定版本</span></span><br><span class="line">npm i axios@<span class="string">&quot;&gt;=0.1.0 &lt;0.2.0&quot;</span> <span class="comment"># 安装大于0.1.0小于0.2.0版本</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果使用 --save-exact参数 会在package.json文件指定安装模块的确切版本</span></span><br><span class="line"></span><br><span class="line">npm i readable-stream --save --save-exact</span><br><span class="line"></span><br><span class="line">npm i sax --save</span><br><span class="line">npm i node-tap --save-dev</span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">npm i sax -S</span><br><span class="line">npm i node-tap -D</span><br><span class="line"></span><br><span class="line"><span class="comment"># --save: 模块将被添加 dependencies 可以简化为 -S</span></span><br><span class="line"><span class="comment"># --save-dev: 模块将被添加到 devDependencies 可以简化为 -D</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果安装beta版本的模块，使用如下命令</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装最新的beta版本</span></span><br><span class="line">npm i &lt;module-name&gt;@beta (latest beta)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 安装指定版本的beta</span></span><br><span class="line">npm i &lt;module-name&gt;@1.3.1-beta.3</span><br><span class="line"></span><br><span class="line"><span class="comment"># npm i会默认安装 dependencies字段和devDependencies字段中的所有模块，如果使用--production参数，可以只安装dependencies字段的模块</span></span><br><span class="line"></span><br><span class="line">npm i --production</span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者</span></span><br><span class="line">NODE_ENV=production npm install</span><br></pre></td></tr></table></figure><h2 id="避免系统权限">避免系统权限</h2><p>默认情况下，<code>npm</code> 全局模块会安装在系统目录(<code>/usr/local/lib</code>)，普通用户没有写入权限，需要使用 <code>sudo</code>，使用如下方式可以在没有 <code>root</code> 权限下，安装全局模块</p><p>首先，在主目录下新建配置文件 <code>.npmrc</code>，然后在改文件中将 <code>prefix</code> 变量定义到主目录下面</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">prefix = /home/qingxin/npm</span><br></pre></td></tr></table></figure><p>然后在主目录下新建 <code>npm</code> 子目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir ~/npm</span><br></pre></td></tr></table></figure><p>此后，全局安装的模块都会安装到这个子目录中，<code>npm</code> 也会到 <code>~/npm/bin</code> 目录去寻找命令</p><p>最后，将这个路径在 <code>.bash_profile</code> 文件(或 <code>.bashrc</code> 文件)中加入 <code>PATH</code> 变量</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=~/npm/bin:<span class="variable">$PATH</span></span><br></pre></td></tr></table></figure><h2 id="npm-update"><code>npm update</code></h2><p><code>npm update</code> 命令用来更新本地安装的模块</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 升级当前项目的指定模块</span></span><br><span class="line"></span><br><span class="line">npm update [module-name]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 升级全局安装的模块</span></span><br><span class="line"></span><br><span class="line">npm update -global [module-name]</span><br></pre></td></tr></table></figure><p>它会先到原创仓库查询最新版本，然后查询本地版本，如果本地版本不存在，或者远程版本较新，就会安装</p><p>使用 <code>-S</code> 或 <code>--save</code> 参数，可以在安装的时候更新 <code>package.json</code> 里面模块的版本号</p><p>注意，从 <code>npm v2.6.1</code> 开始，<code>npm update</code> 只更新顶层模块，而不更新依赖的依赖，以前版本是递归更新的，如果想取到老版本的效果，使用如下命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm --depth 9999 update</span><br></pre></td></tr></table></figure><h2 id="npm-uninstall"><code>npm uninstall</code></h2><p><code>npm uninstall</code> 命令，卸载已安装的模块</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall [package name]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 卸载全局模块</span></span><br><span class="line">npm uninstall [package name] -global</span><br></pre></td></tr></table></figure><h2 id="npm-run"><code>npm run</code></h2><p><code>npm</code> 不仅可以用来模块管理，还可以用来执行脚本，<code>package.json</code> 文件有一个 <code>scripts</code> 字段，可以用于指定脚本命令，供 <code>npm</code> 直接调用</p><p><code>npm run</code> 命令会自动在环境变量 <code>$PATH</code> 添加 <code>node_modules/.bin</code> 目录，所以 <code>scripts</code> 字段里面调用命令时不用加上路径，这就避免了全局安装 <code>NPM</code> 模块</p><p><code>npm run</code> 如果不加任何参数，直接运行，会列出 <code>package.json</code> 里面所有可以执行的脚本命令，<code>npm run</code> 实际上是 <code>npm run lint</code> 的缩写</p><p><code>npm</code> 内置了两个命令简写，<code>npm test</code> 等同于执行 <code>npm run test</code>，<code>npm start</code> 等同于执行 <code>npm run start</code></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm run serve</span><br></pre></td></tr></table></figure><p><code>npm run</code> 会创建一个 <code>shell</code> 执行指定的命令，并临时将 <code>node_modules/.bin</code> 加入 <code>PATH</code> 变量，这意味着本地模块可以直接运行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i eslint -S</span><br></pre></td></tr></table></figure><p>例如运行了上面的命令，它产生了两个结果，<code>eslint</code> 被安装在当前目录的 <code>node_modules</code> 目录下，其次，<code>node_modules/.bin</code> 目录会生成一个符号链接 <code>node_modules/.bin/eslint</code>，指向 <code>eslint</code> 模块的可执行脚本，然后就可以在 <code>package.json</code> 的 <code>script</code> 属性里面，不带路径的引用 <code>eslint</code> 这个脚本</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;Test Project&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;^1.10.3&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;eslint .&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行 <code>npm run lint</code>的时候，它会自动执行 <code>./node_modules/.bin/eslint .</code></p><p>如果希望一个操作的输出，是另一个操作的输入，可以借用 <code>linux</code> 系统的管道命令，酱两个操作链接在一起</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;build-js&quot;</span>: <span class="string">&quot;browserify browser/main.js | uglifyjs -mc &gt; static/bundle.js&quot;</span></span><br></pre></td></tr></table></figure><p>但是，更方便的写法是引用其他 <code>npm run</code> 命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;build&quot;</span>: <span class="string">&quot;npm run build-js &amp;&amp; npm run build-css&quot;</span></span><br></pre></td></tr></table></figure><p>上面的写法是先运行 <code>npm run build-js</code>，然后再运行 <code>npm run build-css</code>，两个命令中间用 <code>&amp;&amp;</code> 连接。如果希望两个命令同时平行执行，它们中间可以用 <code>&amp;</code> 连接</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 一个例子</span></span><br><span class="line">&quot;devDependencies&quot;: &#123;</span><br><span class="line">  &quot;autoprefixer&quot;: &quot;latest&quot;,</span><br><span class="line">  &quot;cssmin&quot;: &quot;latest&quot;</span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">  &quot;build:css&quot;: &quot;autoprefixer -b &#x27;last 2 versions&#x27; &lt; assets/styles/main.css | cssmin &gt; dist/main.css&quot;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>写在 <code>scripts</code> 属性中的命令，也可以在 <code>node_modules/.bin</code> 目录中直接写成 <code>bash</code> 脚本。下面是一个 <code>bash</code> 脚本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">cd</span> site/main</span><br><span class="line">browserify browser/main.js | uglifyjs -mc &gt; static/bundle.js</span><br></pre></td></tr></table></figure><p><a target="_blank" rel="noopener external nofollow noreferrer" href="http://xn--build-4h1hgl73cv8ecqnptvih1amqeg98dpg7arr4e.sh">假定上面的脚本文件名为build.sh</a>，并且权限为可执行，就可以在scripts属性中引用该文件</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;build-js&quot;: &quot;bin/build.sh&quot;</span><br></pre></td></tr></table></figure><h2 id="npm-run-参数"><code>npm run</code> 参数</h2><p><code>npm run</code> 命令添加参数</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;mocha test/&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>上面代码指定 <code>npm test</code>，实际运行 <code>mocha test/</code>，如果要通过 <code>npm test</code> 命令，将参数传到 <code>mocha</code>，则参数之前要加上两个连词线</p><hr><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm run <span class="built_in">test</span> -- anothertest.js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 等于</span></span><br><span class="line"></span><br><span class="line">mocha <span class="built_in">test</span>/ anothertest.js</span><br></pre></td></tr></table></figure><p>上面命令表示，<code>mocha</code> 要运行所有 <code>test</code> 子目录的测试脚本，以及另外一个测试脚本<code>anothertest.js</code>。</p><p><code>npm run</code>本身有一个参数 <code>-s</code>，表示关闭 <code>npm</code> 本身的输出，只输出脚本产生的结果</p><h2 id="npm-run-all"><code>npm-run-all</code></h2><ol><li><code>npm-run-all</code> 这个模块可以运行多个 <code>scripts</code> 脚本命令</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i npm-run-all -D</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 继发执行</span></span><br><span class="line">npm-run-all build:html build:js</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">npm run build:html &amp;&amp; npm run build:js</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 并行执行</span></span><br><span class="line">npm-run-all --parallel watch:html watch:js</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">npm run watch:html &amp; npm run watch:js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 混合执行</span></span><br><span class="line">npm-run-all clean lint --parallel watch:html watch:js</span><br><span class="line"><span class="comment"># 等同于</span></span><br><span class="line">npm-run-all clean lint</span><br><span class="line">npm-run-all --parallel watch:html watch:js</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通配符号</span></span><br><span class="line">npm-run-all --parallel watch:*</span><br></pre></td></tr></table></figure><ol><li><code>start</code> 脚本<ul><li><p><code>start</code> 脚本用于启动应用程序</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;start&quot;: &quot;npm-run-all --parallel dev serve&quot;</span><br><span class="line"># npm run start 并行执行 dev 脚本 和 serve 脚本命令</span><br><span class="line"># 相当于</span><br><span class="line">npm run dev &amp; npm run serve</span><br></pre></td></tr></table></figure></li><li><p>如果没有 <code>start</code> 脚本配置，<code>npm start</code> 命令默认执行下面的脚本，前提是模块的根目录存在一个 <code>server.js</code> 文件</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">node server.js</span><br></pre></td></tr></table></figure></li></ul></li><li><code>dev</code> 脚本命令</li></ol><ul><li><p><code>dev</code> 脚本命令，规定开发阶段所要做的处理，比如构建网页资源</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&quot;dev&quot;: &quot;npm-run-all dev:*&quot;</span><br><span class="line"><span class="comment">// 这个命令用于继发执行所有 dev 的子命令 例如：dev:sass dev:autoprefix</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;predev:sass&quot;: &quot;node-sass --source-map src/css/hoodie.css.map --output-style nested src/sass/base.scss src/css/hoodie.css&quot;</span><br><span class="line"><span class="comment">// 这个命令 将 sass 文件编译为 css 文件，并生成 source map 文件 这个一个hook 后面会讲到</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;dev:sass&quot;: &quot;node-sass --source-map src/css/hoodie.css.map --watch --output-style nested src/sass/base.scss src/css/hoodie.css&quot;</span><br><span class="line"><span class="comment">// 这个命令会监听 sass 文件的变动，只要有变动，就自动将其编译为css文件</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&quot;dev:autoprefix&quot;: &quot;postcss --use autoprefixer --autoprefixer.browsers \&quot;&gt; 5%\&quot; --output src/css/hoodie.css src/css/hoodie.css&quot;</span><br><span class="line"><span class="comment">// 这个命令 为css文件加上浏览器前缀，限制条件是只考虑市场份额大于5%的浏览器</span></span><br></pre></td></tr></table></figure></li></ul><ol start="3"><li><p><code>serve</code> 脚本命令</p><ul><li><code>serve</code> 脚本用于启动服务</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;serve&quot;: &quot;live-server dist/ --port=9090&quot;</span><br><span class="line"><span class="comment">// 上面命令启动服务，用的是live-server模块，将服务启动在9090端口，展示dist子目录</span></span><br></pre></td></tr></table></figure><ul><li><code>live-server</code> 模块有三个功能<ul><li>启动一个 <code>HTTP</code> 服务器，展示指定目录的 <code>index.html</code> 文件，通过该文件加载各种网络资源，这是 <code>file://</code> 协议做不到的</li><li>添加自动刷新功能。只要指定目录之中，文件有任何变化，它就会刷新页面</li><li><code>npm run serve</code> 命令执行以后，自动打开浏览器</li><li>以前，上面三个功能需要三个模块来完成：<code>http-server</code>、<code>live-reload</code>和<code>opener</code>，现在只要 <code>live-server</code> 一个模块就够了</li></ul></li></ul></li><li><p><code>test</code> 脚本命令</p><ul><li><code>test</code> 命令用于执行测试</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;test&quot;: &quot;npm-run-all test:*&quot;,</span><br><span class="line"><span class="comment">// 执行 npm run test 它会帮我们执行test的所有子命令 例如 test:lint</span></span><br><span class="line">&quot;test:lint&quot;: &quot;sass-lint --verbose --config .sass-lint.yml src/sass/*&quot;</span><br><span class="line"><span class="comment">// 上面命令规定，执行测试时，运行lint 脚本，检查脚本之中的语法错误</span></span><br></pre></td></tr></table></figure></li><li><p><code>prod</code> 脚本命令</p><ul><li><code>prod</code> 脚本命令，规定进入生产环境时需要做的处理</li><li>例如下面的命令，将 <code>sass</code> 文件转为 <code>css</code> 文件，并加上浏览器前缀</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;prod&quot;: &quot;npm-run-all prod:*&quot;,</span><br><span class="line">&quot;prod:sass&quot;: &quot;node-sass --output-style compressed src/sass/base.scss src/css/prod/hoodie.min.css&quot;,</span><br><span class="line">&quot;prod:autoprefix&quot;: &quot;postcss --use autoprefixer --autoprefixer.browsers &quot;&gt; 5%&quot; --output src/css/prod/hoodie.min.css src/css/prod/hoodie.min.css&quot;</span><br></pre></td></tr></table></figure></li><li><p><code>help</code> 脚本命令</p><ul><li><code>help</code> 脚本命令用于展示帮助信息</li><li>下面的命令，<code>markdown-chalk</code> 模块用于将指定的 <code>markdown</code> 文件，转为彩色文本显示在终端</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;help&quot;: &quot;markdown-chalk --input DEVLOPMENT.md&quot;</span><br></pre></td></tr></table></figure></li><li><p><code>docs</code> 脚本命令</p><ul><li><code>docs</code> 脚本用于生成文档</li><li>下面的命令使用 <code>kss-node</code> 模块，提供源码的注释生成 <code>markdown</code> 格式的文档。</li></ul><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;docs&quot;: &quot;kss-node --source src/sass --homepage ../../styleguide.md&quot;</span><br></pre></td></tr></table></figure></li></ol><h2 id="pre-和-post-脚本"><code>pre-</code> 和 <code>post-</code> 脚本</h2><p><code>npm run</code> 为每条命令提供了 <code>pre-</code> 和 <code>post-</code> 两个钩子(<code>hook</code>)，以 <code>npm run lint</code> 为例，执行这条命令之前，<code>npm</code> 会先查看有没有定义 <code>prelint</code> 和 <code>postlint</code> 两个钩子，如果有的话，就先执行 <code>npm run prelint</code>，然后执行 <code>npm run lint</code>，最后执行 <code>npm run postlint</code></p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">&quot;name&quot;</span>: <span class="string">&quot;myproject&quot;</span>,</span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;eslint&quot;</span>: <span class="string">&quot;latest&quot;</span></span><br><span class="line">    <span class="string">&quot;karma&quot;</span>: <span class="string">&quot;latest&quot;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;eslint --cache --ext .js --ext .jsx src&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;test&quot;</span>: <span class="string">&quot;karma start --log-leve=error karma.config.js --single-run=true&quot;</span>,</span><br><span class="line">    <span class="attr">&quot;pretest&quot;</span>: <span class="string">&quot;npm run lint&quot;</span>,</span><br><span class="line">    <span class="comment">// 在执行 npm run test 之前执行</span></span><br><span class="line">    <span class="attr">&quot;posttest&quot;</span>: <span class="string">&quot;echo &#x27;Finished running tests&#x27;&quot;</span></span><br><span class="line">    <span class="comment">// 在执行 npm run test 之后执行</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol><li><p>注意：如果执行过程出错，就不会执行排在后面的脚本，即如果 <code>prelint</code> 脚本执行出错，就不会接着执行 <code>lint</code> 和 <code>postlint</code> 脚本。</p></li><li><p>一些常见的 <code>pre-</code> 和 <code>post-</code> 脚本</p><ul><li><code>prepublish</code>：发布一个模块前执行</li><li><code>postpublish</code>：发布一个模块后执行</li><li><code>preinstall</code>：用户执行<code>npm install</code>命令时，先执行该脚本</li><li><code>postinstall</code>：用户执行<code>npm install</code>命令时，安装结束后执行该脚本，通常用于将下载的源码编译成用户需要的格式，比如有些模块需要在用户机器上跟本地的<code>C++</code>模块一起编译</li><li><code>preuninstall</code>：卸载一个模块前执行</li><li><code>postuninstall</code>：卸载一个模块后执行</li><li><code>preversion</code>：更改模块版本前执行</li><li><code>postversion</code>：更改模块版本后执行</li><li><code>pretest</code>：运行<code>npm test</code>命令前执行</li><li><code>posttest</code>：运行<code>npm test</code>命令后执行</li><li><code>prestop</code>：运行<code>npm stop</code>命令前执行</li><li>poststop：运行<code>npm stop</code>命令后执行</li><li>prestart：运行<code>npm start</code>命令前执行</li><li>poststart：运行<code>npm start</code>命令后执行</li><li>prerestart：运行<code>npm restart</code>命令前执行</li><li>postrestart：运行<code>npm restart</code>命令后执行</li></ul></li><li><p>对于最后一个<code>npm restart</code>命令，如果没有设置<code>restart</code>脚本，<code>prerestart</code>和<code>postrestart</code>会依次执行<code>stop</code>和<code>start</code>脚本</p></li><li><p>另外，不能在<code>pre</code>脚本之前再加<code>pre</code>，即<code>prepretest</code>脚本不起作用</p></li><li><p>注意，即使 <code>Npm</code> 可以自动运行<code>pre</code>和<code>post</code>脚本，也可以手动执行它们</p></li><li><p>一些例子</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;postinstall&quot;</span>: <span class="string">&quot;node lib/post_install.js&quot;</span></span><br><span class="line"></span><br><span class="line">	<span class="comment">// 用于处理从Git仓库拉下来的源码。比如，有些源码是用TypeScript写的，可能需要转换一下 安装之后执行 lib/post_install.js</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;dist:modules&quot;</span>: <span class="string">&quot;babel ./src --out-dir ./dist-modules&quot;</span>,</span><br><span class="line">	<span class="attr">&quot;gh-pages&quot;</span>: <span class="string">&quot;webpack&quot;</span>,</span><br><span class="line">	<span class="attr">&quot;gh-pages:deploy&quot;</span>: <span class="string">&quot;gh-pages -d gh-pages&quot;</span>,</span><br><span class="line">	<span class="attr">&quot;prepublish&quot;</span>: <span class="string">&quot;npm run dist:modules&quot;</span>,</span><br><span class="line">	<span class="comment">// npm run publish时，会先执行Babel编译，然后调用Webpack构建，最后发到Github Pages上面</span></span><br><span class="line">	<span class="attr">&quot;postpublish&quot;</span>: <span class="string">&quot;npm run gh-pages &amp;&amp; npm run gh-pages:deploy&quot;</span></span><br><span class="line">	<span class="comment">// &amp;&amp; 继发 先执行 npm run gh-page 然后执行 npm run gh-pages:deploy</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>以上都是<code>npm</code>相关操作的钩子，如果安装某些模块，还能支持<code>Git</code>相关的钩子。下面以<code>husky</code>模块为例</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install husky --save-dev</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">		<span class="attr">&quot;lint&quot;</span>: <span class="string">&quot;eslint yourJsFiles.js&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;precommit&quot;</span>: <span class="string">&quot;npm run test &amp;&amp; npm run lint&quot;</span>,</span><br><span class="line">		<span class="comment">// commit 之前</span></span><br><span class="line">		<span class="attr">&quot;prepush&quot;</span>: <span class="string">&quot;npm run test &amp;&amp; npm run lint&quot;</span>,</span><br><span class="line">		<span class="attr">&quot;...&quot;</span>: <span class="string">&quot;...&quot;</span></span><br><span class="line">		<span class="comment">// push之前</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>类似作用的模块还有<code>pre-commit</code>、<code>precommit-hook</code>等</p></li><li><p>内部变量</p><ul><li><code>scripts</code> 字段可以使用一些内部变量，主要是 <code>package.json</code> 的各种字段</li><li>比如 <code>package.json</code> 的内容是 <code>&#123;&quot;name&quot;:&quot;foo&quot;, &quot;version&quot;:&quot;1.2.5&quot;&#125;</code> 那么变量 <code>npm_package_name</code> 的值就是 <code>foo</code>，变量 <code>npm_package_version</code> 就是 <code>1.2.5</code></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">	<span class="attr">&quot;scripts&quot;</span>:&#123;</span><br><span class="line">		<span class="attr">&quot;bundle&quot;</span>: <span class="string">&quot;mkdir -p build/$npm_package_version/&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 运行npm run bundle以后，将会生成build/1.2.5/子目录</span></span><br></pre></td></tr></table></figure><ul><li><code>config</code> 字段也可以用来设置内部字段</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&quot;name&quot;: &quot;fooproject&quot;,</span><br><span class="line">&quot;config&quot;: &#123;</span><br><span class="line">	&quot;reporter&quot;: &quot;xunit&quot;</span><br><span class="line">&#125;,</span><br><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">	&quot;test&quot;: &quot;mocha test/ --reporter $npm_package_config_reporter&quot;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 变量npm_package_config_reporter对应的就是reporter</span></span><br></pre></td></tr></table></figure></li><li><p>通配符</p></li><li><p><code>npm</code> 的通配符的规则如下</p><ul><li><code>*</code> 匹配<code>0</code>个或多个字符</li><li><code>?</code> 匹配<code>1</code>个字符</li><li><code>[...]</code> 匹配某个范围的字符。如果该范围的第一个字符是<code>!</code>或<code>^</code>，则匹配不在该范围的字符</li><li><code>!(pattern|pattern|pattern)</code> 匹配任何不符合给定的模式</li><li><code>?(pattern|pattern|pattern)</code> 匹配<code>0</code>个或<code>1</code>个给定的模式</li><li><code>+(pattern|pattern|pattern)</code> 匹配<code>1</code>个或多个给定的模式</li><li><code>*(a|b|c)</code> 匹配<code>0</code>个或多个给定的模式</li><li><code>@(pattern|pat*|pat?erN)</code> 只匹配给定模式之一</li><li><code>**</code> 如果出现在路径部分，表示<code>0</code>个或多个子目录</li></ul></li></ol><h2 id="全局模块">全局模块</h2><ol><li>全局模块可以直接在任何地方使用</li></ol><h2 id="npm-link"><code>npm link</code></h2><p>就是将当前的目录临时放到全局下</p><p>开发 <code>npm</code> 模块的时候，有时我们会希望，边开发边试用，比如本地调试的时候 <code>require('module')</code>，会自动加载本机开发中的模块，<code>node</code> 规定，使用一个模块时，需要将其安装到全局或项目的 <code>node_modules</code> 目录中，对于开发中的模块，解决方法就是在全局的 <code>node_modules</code> 目录中，生成一个符号链接，指向模块的本地目录</p><p><code>npm link</code> 就是起到这个作用，会自动创建这个符号链接</p><p>举个🌰</p><p>在项目根目录执行</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 该命令会在 npm 全局模块目录中，生成一个符号链接文件，该文件的名字就是 package.json文件中指定的模块名</span></span><br><span class="line">src/myModule$ npm link</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 模块名</span></span><br><span class="line">/path/to/global/node_modules/myModule -&gt; src/myModule</span><br></pre></td></tr></table></figure><p>这个时候，已经可以全局调用模块了，但是如果我们要让这个模块安装在项目内，还要进行下面的步骤</p><p>切换到项目目录，再次运行 <code>npm link</code> 命令，并指定模块名</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">src/myProject$ npm link myModule</span><br><span class="line"></span><br><span class="line"><span class="comment"># 上面的命令等同于生成了本地模块的符号链接</span></span><br><span class="line"></span><br><span class="line">src/myProject/node_modules/myModule -&gt; /path/to/global/node_modules/myModule</span><br></pre></td></tr></table></figure><p>然后就可以加载模块了</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> moduleO = <span class="built_in">require</span>(<span class="string">&quot;myModule&quot;</span>)</span><br></pre></td></tr></table></figure><p>这样一来，<code>myModule</code> 的任何变化，都可以直接反映在 <code>myProject</code> 项目之中。但是，这样也出现了风险，任何在 <code>myProject</code> 目录中对<code>myModule</code> 的修改，都会反映到模块的源码中</p><p>如果你的项目不再需要该模块，可以在项目目录内使用 <code>npm unlink</code> 命令，删除符号链接</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">src/myProject$ npm unlink myModule</span><br></pre></td></tr></table></figure><h2 id="npm-bin"><code>npm bin</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm bin</span><br><span class="line"></span><br><span class="line"><span class="comment"># 显示相对于当前目录的，Node模块的可执行脚本所在的目录（即.bin目录）</span></span><br><span class="line">/User/qx/node_modules/.bin</span><br></pre></td></tr></table></figure><h2 id="npm-adduser"><code>npm adduser</code></h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm adduser</span><br><span class="line"></span><br><span class="line">Username: Username</span><br><span class="line">Password: Password</span><br><span class="line">Email: Email</span><br></pre></td></tr></table></figure><h2 id="npm-publish"><code>npm publish</code></h2><p><code>npm publish</code> 用于将当前模块发布到 <code>npm</code> 中，执行之前需要向 <code>npm</code> 申请用户名</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 申请用户名</span></span><br><span class="line">npm adduser</span><br><span class="line"></span><br><span class="line"><span class="comment"># 登录</span></span><br><span class="line">npm login</span><br><span class="line"></span><br><span class="line"><span class="comment"># 发布</span></span><br><span class="line">npm publish</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果当前模块是一个 beta 版本，比如 1.3.1-beta.3 那么发布的时候 需要使用 tag 参数，将其发布到指定标签，默认的发布标签是 @latest</span></span><br><span class="line"></span><br><span class="line">npm publish --tag beta</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果发布私有模块，模块初始化的时候，需要加上 scope 参数，只有 npm 的付费用户才能发布私有模块</span></span><br><span class="line">npm init --scope=&lt;yourscope&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 如果模块是 es6 语法，那么发布的时候，最好转成 es5 首先 需要安装Babel</span></span><br><span class="line">npm i babel-cli@6 babel-preset-es2015@6 -D</span><br></pre></td></tr></table></figure><p>然后在 package.json 里写入 build 脚本</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;scripts&quot;: &#123;</span><br><span class="line">    &quot;build&quot;: &quot;babel source --presets babel-preset-es2015 --out-dir distribution&quot;,</span><br><span class="line">    &quot;prepublish&quot;: &quot;npm run build&quot; // publish 之前打包</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>运行上面的脚本，会将 <code>source</code> 目录中的 <code>es6</code> 源码文件，转为 <code>distribution</code> 目录里面的 <code>es5</code> 文件，然后创建 <code>.npmignore</code> 和 <code>.gitignore</code> ，分别写入以下内容</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># .npmignore</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">source</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># .gitignore</span></span><br><span class="line">node_modules</span><br><span class="line">distribution</span><br></pre></td></tr></table></figure><h2 id="npm-deprecate"><code>npm deprecate</code></h2><p>如果想要废弃某个版本的模块，使用 <code>npm deprecate</code> 命令</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm deprecate my-thing@<span class="string">&quot;&lt; 0.2.3&quot;</span> <span class="string">&quot;critical bug fixed in v0.2.3&quot;</span></span><br></pre></td></tr></table></figure><p>运行上面的命令以后，小于 <code>0.2.3</code> 版本的模块的 <code>package.json</code> 都会写入一行警告，用户安装这些版本时，这行警告就会在命令行显示</p><h2 id="npm-owner"><code>npm owner</code></h2><ol><li>模块的维护者可以发布新版本，<code>npm owner</code> 命令用于管理模块的维护者</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 列出指定模块的维护者</span></span><br><span class="line">npm owner ls &lt;package name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 新增维护者</span></span><br><span class="line">npm owner add &lt;user&gt; &lt;package name&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment"># 删除维护者</span></span><br><span class="line">npm owner rm &lt;user&gt; &lt;package name&gt;</span><br></pre></td></tr></table></figure><h2 id="其他命令">其他命令</h2><ol><li><p><code>npm home</code> 打开一个模块的主页</p></li><li><p><code>npm repo</code> 打开一个模块的代码仓库</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm home <span class="variable">$package</span></span><br><span class="line">npm repo <span class="variable">$package</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 这两个命令不需要提前安装模块</span></span><br></pre></td></tr></table></figure></li><li><p><code>npm outdated</code> 检查当前项目所依赖的模块，是否已经有新版本</p><ul><li>它会输出当前版本 <code>current version</code> 应当安装的版本 <code>wanted version</code> 和最新发布的版本 <code>latest version</code></li></ul></li><li><p><code>npm prune</code> 检查当前项目的 <code>node_modules</code> 目录中，是否有 <code>package.json</code> 里面没有提到的模块，然后将所有这些模块输出在命令行</p></li><li><p><code>npm shrinkwrap</code> 锁定当前项目的依赖模块的版本</p><ul><li>运行该命令后，会在当前项目的根目录下生成一个 <code>npm-shrinkwrap.json</code> 文件，内容是<code>node_modules</code> 目录下所有已经安装的模块，以及它们的精确版本</li><li>下次运行 <code>npm install</code> 命令时，<code>npm</code> 发现当前目录下有 <code>npm-shrinkwrap.json</code> 文件，就会只安装里面提到的模块，且版本也会保持一致</li></ul></li></ol><h2 id="git-npm"><code>git / npm</code></h2><p><code>npm</code> 版本号管理的问题</p><ol><li><code>semver</code> 规范，规定了版本号，由 <code>MAJOR</code> <code>MINOR</code> <code>PATCH</code></li><li><code>MAJOR</code> 可能不在兼容老版本</li><li><code>MINOR</code> 新增了一些兼容旧版本的 <code>api</code></li><li><code>PATCH</code> 修复 <code>bug</code></li></ol><p><code>git</code> 的 <code>tag</code> 对应着 <code>npm</code> 的版本</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 会自动和git进行关联</span></span><br><span class="line">npm version major minor patch</span><br></pre></td></tr></table></figure><p>版本号的含义</p><ol><li><code>2.2.0</code> 必须是 <code>2.2.0</code></li><li><code>^2.2.0</code> 限定大版本，后面更新只要不超过 <code>2</code> 就可以</li><li><code>~2.2.0</code> 限定前两个版本，后面的版本只要比 <code>0</code> 大就可以</li><li><code>=2.0</code> 大于这个版本</li><li><code>&lt;=2.0</code> 小于等于这个版本</li></ol><p>预发版本</p><ol><li><code>alpha</code> 预览版本，内部测试版</li><li><code>beta</code> 测试版，公开测试版</li><li><code>rc</code> 最终测试版本</li></ol><h2 id="scripts"><code>scripts</code></h2><ol><li>可以配置脚本的命令 快捷键(可以把很长的命令放到 <code>scripts</code> 中)</li><li>执行命令 会将当前的 <code>node_modules</code> 目录下的 <code>.bin</code> 文件夹放到全局中(所以可以直接使用)</li><li><code>npm run start</code> 可以简写为 <code>npm start</code></li></ol><h2 id="npx"><code>npx</code></h2><ol><li><code>npx</code> 和 <code>script</code> 一样可以帮我们直接运行 <code>.bin</code> 目录下的内容</li><li>如果 <code>.bin</code> 目录下存在 会执行对应脚本，如果不存在会下载运行</li></ol><blockquote><p>npx 只是一个临时的使用方案。 npm5.2 之后产生的</p></blockquote><h2 id="源的切换">源的切换</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm i nrm -g</span><br><span class="line"></span><br><span class="line">nrm ls</span><br><span class="line"></span><br><span class="line">nrm use</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__title"><span class="post-copyright-info"><h>npm</h></span></div><div class="post-copyright__type"><span class="post-copyright-info"><a href="https://blog.keyiqingxin.cn/a1345b2b/">https://blog.keyiqingxin.cn/a1345b2b/</a></span></div><div class="post-copyright-m"><div class="post-copyright-m-info"><div class="post-copyright-a"><h>作者</h><div class="post-copyright-cc-info"><h>可以清心</h></div></div><div class="post-copyright-c"><h>发布于</h><div class="post-copyright-cc-info"><h>2023-04-18</h></div></div><div class="post-copyright-u"><h>更新于</h><div class="post-copyright-cc-info"><h>2023-04-18</h></div></div><div class="post-copyright-c"><h>许可协议</h><div class="post-copyright-cc-info"><a class="icon" rel="noopener external nofollow noreferrer" target="_blank" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a><a rel="noopener external nofollow noreferrer" target="_blank" title="CC BY-NC-SA 4.0" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a></div></div></div></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/javascript/">javascript</a></div><div class="post_share"><div class="social-share" data-image="https://cdn.keyiqingxin.cn/cover/871047.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/social-share/css/share.min.css" media="print" onload='this.media="all"'><script src="https://cdn.keyiqingxin.cn/social-share/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button button--animated"><i class="fas fa-qrcode"></i> 打赏</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="https://cdn.keyiqingxin.cn/wechat/wechat.png" rel="external nofollow noreferrer" target="_blank"><img class="post-qr-code-img" src="https://cdn.keyiqingxin.cn/wechat/wechat.png" alt="微信"></a><div class="post-qr-code-desc">微信</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/56718f73/"><img class="prev-cover" src="https://cdn.keyiqingxin.cn/cover/670099.jpg" onerror='onerror=null,src="https://cdn.keyiqingxin.cn/avatar/avatar1.jpg"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">基于butterfly的外挂标签引入</div></div></a></div><div class="next-post pull-right"><a href="/ff44d7d9/"><img class="next-cover" src="https://cdn.keyiqingxin.cn/cover/517950.jpg" onerror='onerror=null,src="https://cdn.keyiqingxin.cn/avatar/avatar1.jpg"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">使用TensorFlow.js进行人脸动作检测</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i> <span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/b94f3717/" title="JS面试题"><img class="cover" src="https://cdn.keyiqingxin.cn/cover/685240.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-21</div><div class="title">JS面试题</div></div></a></div><div><a href="/c9cc43d6/" title="js操作dom"><img class="cover" src="https://cdn.keyiqingxin.cn/cover/680362.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-10-24</div><div class="title">js操作dom</div></div></a></div><div><a href="/787f2ffe/" title="JS构造器与new操作符"><img class="cover" src="https://cdn.keyiqingxin.cn/cover/973119.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-02-14</div><div class="title">JS构造器与new操作符</div></div></a></div><div><a href="/92aca09d/" title="js类型转换"><img class="cover" src="https://cdn.keyiqingxin.cn/cover/947849.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2021-10-14</div><div class="title">js类型转换</div></div></a></div></div></div><hr><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i> <span>评论</span></div><div id="comment-switch"><span class="first-comment">Twikoo</span><span class="switch-btn"></span><span class="second-comment">Waline</span></div></div><div class="comment-wrap"><div><div id="twikoo-wrap"></div></div><div><div id="waline-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link"><span class="toc-number">1.</span> <span class="toc-text">npm</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.1.</span> <span class="toc-text">介绍</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E5%91%BD%E4%BB%A4"><span class="toc-number">1.2.</span> <span class="toc-text">基本命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-%E4%BD%BF%E7%94%A8"><span class="toc-number">1.3.</span> <span class="toc-text">npm 使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-set-%E8%AE%BE%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="toc-number">1.4.</span> <span class="toc-text">npm set 设置环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-info"><span class="toc-number">1.5.</span> <span class="toc-text">npm info</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-search"><span class="toc-number">1.6.</span> <span class="toc-text">npm search</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-list"><span class="toc-number">1.7.</span> <span class="toc-text">npm list</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-install"><span class="toc-number">1.8.</span> <span class="toc-text">npm install</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%89%E8%A3%85%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC"><span class="toc-number">1.8.1.</span> <span class="toc-text">安装不同版本</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%BF%E5%85%8D%E7%B3%BB%E7%BB%9F%E6%9D%83%E9%99%90"><span class="toc-number">1.9.</span> <span class="toc-text">避免系统权限</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-update"><span class="toc-number">1.10.</span> <span class="toc-text">npm update</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-uninstall"><span class="toc-number">1.11.</span> <span class="toc-text">npm uninstall</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-run"><span class="toc-number">1.12.</span> <span class="toc-text">npm run</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-run-%E5%8F%82%E6%95%B0"><span class="toc-number">1.13.</span> <span class="toc-text">npm run 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-run-all"><span class="toc-number">1.14.</span> <span class="toc-text">npm-run-all</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#pre-%E5%92%8C-post-%E8%84%9A%E6%9C%AC"><span class="toc-number">1.15.</span> <span class="toc-text">pre- 和 post- 脚本</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E6%A8%A1%E5%9D%97"><span class="toc-number">1.16.</span> <span class="toc-text">全局模块</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-link"><span class="toc-number">1.17.</span> <span class="toc-text">npm link</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-bin"><span class="toc-number">1.18.</span> <span class="toc-text">npm bin</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-adduser"><span class="toc-number">1.19.</span> <span class="toc-text">npm adduser</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-publish"><span class="toc-number">1.20.</span> <span class="toc-text">npm publish</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-deprecate"><span class="toc-number">1.21.</span> <span class="toc-text">npm deprecate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npm-owner"><span class="toc-number">1.22.</span> <span class="toc-text">npm owner</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="toc-number">1.23.</span> <span class="toc-text">其他命令</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#git-npm"><span class="toc-number">1.24.</span> <span class="toc-text">git &#x2F; npm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#scripts"><span class="toc-number">1.25.</span> <span class="toc-text">scripts</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#npx"><span class="toc-number">1.26.</span> <span class="toc-text">npx</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BA%90%E7%9A%84%E5%88%87%E6%8D%A2"><span class="toc-number">1.27.</span> <span class="toc-text">源的切换</span></a></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2023 By 可以清心</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">簡</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="chat_btn" type="button" title="rightside.chat_btn"><i class="fas fa-sms"></i></button><button id="to_comment" type="button" title="直达评论" onclick="FixedCommentBtn()"><i class="fas fa-comments"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"></div></div></div><hr><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="https://cdn.keyiqingxin.cn/js/utils.js"></script><script src="https://cdn.keyiqingxin.cn/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="https://cdn.keyiqingxin.cn/snackbar/snackbar.min.js"></script><script src="/js/search/local-search.js"></script><script>var preloader={endLoading:()=>{document.body.style.overflow="auto",document.getElementById("loading-box").classList.add("loaded")},initLoading:()=>{document.body.style.overflow="",document.getElementById("loading-box").classList.remove("loaded")}};window.addEventListener("load",preloader.endLoading())</script><div class="js-pjax"><script>(()=>{const t=document.getElementById("twikoo-count"),o=()=>{twikoo.init(Object.assign({el:"#twikoo-wrap",envId:"https://twikoo.keyiqingxin.cn",region:""},null))},n=()=>{twikoo.getCommentsCount({envId:"https://twikoo.keyiqingxin.cn",region:"",urls:[window.location.pathname],includeReply:!1}).then((function(o){t.innerText=o[0].count})).catch((function(t){console.error(t)}))},e=(e=!1)=>{"object"==typeof twikoo?(o(),e&&t&&setTimeout(n,0)):getScript("https://cdn.keyiqingxin.cn/twikoo/twikoo.all.min.js").then(()=>{o(),e&&t&&setTimeout(n,0)})};btf.loadComment(document.getElementById("twikoo-wrap"),e)})()</script><script>function loadWaline(){function n(){new Waline(Object.assign({el:"#waline-wrap",serverURL:"https://waline.keyiqingxin.cn",avatar:"monsterid",path:location.pathname,emojiCDN:"",emojiMaps:"",visitor:!1},{login:"enable"}))}"function"==typeof Waline?n():getScript("https://cdn.keyiqingxin.cn/waline/Waline.min.js").then(n)}{function loadOtherComment(){loadWaline()}}</script></div><div class="aplayer no-destroy" data-id="2495595989" data-server="tencent" data-type="playlist" data-fixed="true" data-mini="true" data-listfolded="false" data-order="random" data-preload="none" data-autoplay="false" muted></div><script async src="https://cdn.keyiqingxin.cn/js/font_2264842_3izu8i5eoc2.js"></script><script defer src="https://cdn.keyiqingxin.cn/live2d-widget/autoload.js"></script><script defer src="https://cdn.keyiqingxin.cn/js/live2dcubismcore.min.js"></script><script defer src="https://cdn.keyiqingxin.cn/js/asyncmodel.min.js"></script><script src="https://cdn.keyiqingxin.cn/twikoo/twikoo.all.min.js"></script><div id="live3d" class="live3d" style="position:fixed;left:-100px;bottom:-20px;width:500px!important;height:437.5px!important;z-index:98"><canvas id="live2dm" class="live3d"></canvas></div><script data-pjax defer src="https://cdn.keyiqingxin.cn/js/fixed_comment.js"></script><script data-pjax defer src="https://cdn.keyiqingxin.cn/js/comment_barrage.js"></script><script>let tianliGPT_postSelector="#post #article-container",tianliGPT_key="nHC6jHq3oJ4trKTHCPyn"</script><script src="https://cdn.keyiqingxin.cn/tianli_gpt/tianli-gpt.js"></script><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.keyiqingxin.cn/butterfly-extsrc/fireworks.min.js"></script><script src="https://cdn.keyiqingxin.cn/butterfly-extsrc/activate-power-mode.min.js"></script><script>POWERMODE.colorful=!0,POWERMODE.shake=!1,POWERMODE.mobile=!1,document.body.addEventListener("input",POWERMODE)</script><link rel="stylesheet" href="https://cdn.keyiqingxin.cn/aplayer/APlayer.min.css" media="print" onload='this.media="all"'><script src="https://cdn.keyiqingxin.cn/aplayer/APlayer.min.js"></script><script src="https://cdn.keyiqingxin.cn/meting/Meting.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="app-refresh" id="app-refresh" style="position:fixed;top:-2.2rem;left:0;right:0;z-index:99999;padding:0 1rem;font-size:15px;height:2.2rem;transition:all .3s ease"><div class="app-refresh-wrap" style="display:flex;color:#fff;height:100%;align-items:center;justify-content:center"><label>✨空间站上新啦！ 👉</label><a href="javascript:void(0)" rel="external nofollow noreferrer" onclick="location.reload()"><span style="color:#fff;text-decoration:underline;cursor:pointer">🍭查看新品🍬</span></a></div></div><script>function showNotification(){if(GLOBAL_CONFIG.Snackbar){var t="light"===document.documentElement.getAttribute("data-theme")?GLOBAL_CONFIG.Snackbar.bgLight:GLOBAL_CONFIG.Snackbar.bgDark,e=GLOBAL_CONFIG.Snackbar.position;Snackbar.show({text:"✨ 空间站上新啦！ 👉",backgroundColor:t,duration:5e5,pos:e,actionText:"🍭查看新品🍬",actionTextColor:"#fff",onActionClick:function(t){location.reload()}})}else{var o=`top: 0; background: ${"light"===document.documentElement.getAttribute("data-theme")?"#49b1f5":"#1f1f1f"};`;document.getElementById("app-refresh").style.cssText=o}}"serviceWorker"in navigator&&(navigator.serviceWorker.controller&&navigator.serviceWorker.addEventListener("controllerchange",(function(){showNotification()})),window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js")})))</script></div><script data-pjax>function history_calendar_injector_config(){var i=document.getElementsByClassName("sticky_layout")[0];console.log("已挂载history_calendar"),i.insertAdjacentHTML("afterbegin",'<div class="card-widget card-history"><div class="card-content"><div class="item-headline"><i class="fas fa-clock fa-spin"></i><span>那年今日</span></div><div id="history-baidu" style="height: 100px;overflow: hidden"><div class="history_swiper-container" id="history-container" style="width: 100%;height: 100%"><div class="swiper-wrapper" id="history_container_wrapper" style="height:20px"></div></div></div></div>')}document.getElementsByClassName("sticky_layout")[0]&&"/"===location.pathname&&history_calendar_injector_config()</script><script data-pjax src="https://cdn.keyiqingxin.cn/bdhistory/js/main.js"></script><script data-pjax>if(document.getElementById("recent-posts")&&"/"==location.pathname){var parent=document.getElementById("recent-posts"),child='<div class="recent-post-item" style="height: auto;width: 100%"><div class="blog-slider swiper-container-fade swiper-container-horizontal" id="swiper_container"><div class="blog-slider__wrp swiper-wrapper" style="transition-duration: 0ms"><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/1111069.png" alt="https://cdn.keyiqingxin.cn/cover/1111069.png"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-09-17</span><a class="blog-slider__title" href="679887a0/">butterfly分类页面魔改</a><div class="blog-slider__text">butterfly分类页面魔改</div><a class="blog-slider__button" href="679887a0/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/939928.jpg" alt="https://cdn.keyiqingxin.cn/cover/939928.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-08-26</span><a class="blog-slider__title" href="df8718c1/">网格布局</a><div class="blog-slider__text">css 网格布局(grid)</div><a class="blog-slider__button" href="df8718c1/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/1111259.png" alt="https://cdn.keyiqingxin.cn/cover/1111259.png"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-08-02</span><a class="blog-slider__title" href="9b2de178/">vue2.x的api</a><div class="blog-slider__text">vue2.x的api</div><a class="blog-slider__button" href="9b2de178/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/1111254.jpg" alt="https://cdn.keyiqingxin.cn/cover/1111254.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-07-28</span><a class="blog-slider__title" href="262ac49e/">vue2.x进阶用法</a><div class="blog-slider__text">vue2.x的一些进阶用法</div><a class="blog-slider__button" href="262ac49e/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/670098.jpg" alt="https://cdn.keyiqingxin.cn/cover/670098.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-07-09</span><a class="blog-slider__title" href="c0add594/">vue2.x基本用法</a><div class="blog-slider__text">vue2.x基本用法</div><a class="blog-slider__button" href="c0add594/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/1111255.jpg" alt="https://cdn.keyiqingxin.cn/cover/1111255.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-07-01</span><a class="blog-slider__title" href="5650e2f5/">vercel托管node.js的api服务</a><div class="blog-slider__text">vercel托管node.js的api服务</div><a class="blog-slider__button" href="5650e2f5/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/942531.jpg" alt="https://cdn.keyiqingxin.cn/cover/942531.jpg"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-06-01</span><a class="blog-slider__title" href="317ea436/">bufferfly主题的应用和即时推送</a><div class="blog-slider__text">bufferfly主题的应用和即时推送</div><a class="blog-slider__button" href="317ea436/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/829919.png" alt="https://cdn.keyiqingxin.cn/cover/829919.png"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-06-01</span><a class="blog-slider__title" href="bf0e4745/">bufferfly主题的一些美化</a><div class="blog-slider__text">bufferfly 主题的一些美化</div><a class="blog-slider__button" href="bf0e4745/">🍡详情</a></div></div><div class="blog-slider__item swiper-slide" style="width: 750px; opacity: 1; transform: translate3d(0px, 0px, 0px); transition-duration: 0ms"><div class="blog-slider__img"><img src="https://cdn.keyiqingxin.cn/cover/820208.png" alt="https://cdn.keyiqingxin.cn/cover/820208.png"/></div><div class="blog-slider__content"><span class="blog-slider__code">2021-06-01</span><a class="blog-slider__title" href="f5fee1ca/">发布一个npm包</a><div class="blog-slider__text">发布一个npm包</div><a class="blog-slider__button" href="f5fee1ca/">🍡详情</a></div></div></div><div class="blog-slider__pagination swiper-pagination-clickable swiper-pagination-bullets"></div></div></div>';console.log("已挂载swiper"),parent.insertAdjacentHTML("afterbegin",child)}</script><script data-pjax src="https://cdn.keyiqingxin.cn/zfswiper/swiper.min.js"></script><script data-pjax src="https://cdn.keyiqingxin.cn/zfswiper/swiperindex.js"></script><style></style><script data-pjax src="https://cdn.keyiqingxin.cn/js/github.js"></script><script data-pjax>function GithubCalendarConfig(){var e=document.getElementById("recent-posts");e&&"/"==location.pathname&&(console.log("已挂载github calendar"),e.insertAdjacentHTML("afterbegin",'<div class="recent-post-item" style="width:100%;height:auto;padding:10px;"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>')),GithubCalendar("https://calendar.keyiqingxin.cn/api?name=milkdue",["#ebedf0","#fdcdec","#fc9bd9","#fa6ac5","#f838b2","#f5089f","#c4067e","#92055e","#540336","#48022f","#30021f"],"milkdue")}document.getElementById("recent-posts")&&GithubCalendarConfig()</script><style>#github_container{min-height:280px}@media screen and (max-width:650px){#github_container{min-height:0}}</style><style></style><div class="js-pjax"><script async>for(var arr=document.getElementsByClassName("recent-post-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration","2s"),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script><script async>for(var arr=document.getElementsByClassName("card-widget"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration",""),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script><script async>for(var arr=document.getElementsByClassName("article-sort-item"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__zoomIn"),arr[i].setAttribute("data-wow-duration",""),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script><script async>for(var arr=document.getElementsByClassName("flink-list-card"),i=0;i<arr.length;i++)arr[i].classList.add("wow"),arr[i].classList.add("animate__flipInY"),arr[i].setAttribute("data-wow-duration","3s"),arr[i].setAttribute("data-wow-delay",""),arr[i].setAttribute("data-wow-offset",""),arr[i].setAttribute("data-wow-iteration","")</script></div><script defer src="https://cdn.keyiqingxin.cn/wow/wow.min.js"></script><script defer src="https://cdn.keyiqingxin.cn/wow/wow_init.js"></script><script data-pjax>function butterfly_footer_beautify_injector_config(){var e=document.getElementById("footer-wrap");console.log("已挂载butterfly_footer_beautify"),e.insertAdjacentHTML("beforeend",'<p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="博客框架为Hexo" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="主题采用butterfly" title=""><img src="https://cdn.keyiqingxin.cn/svg/Theme-Butterfly-6513df.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://beian.miit.gov.cn" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站已在工信部备案，备案号陕ICP备2023000684号-1" title=""><img src="https://cdn.keyiqingxin.cn/svg/bei.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://icp.gov.moe/?keyword=20210025" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站已加入萌ICP豪华套餐，萌ICP备20210025号" title=""><img src="https://cdn.keyiqingxin.cn/svg/moe.svg" alt=""/></a><a class="github-badge" target="_blank" href="https://www.upyun.com/?utm_source=lianmeng&amp;utm_medium=referral" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站使用腾讯云为静态资源提供CDN加速" title=""><img src="https://img.shields.io/badge/CDN-腾讯云-blue?style=flat&amp;logo=icloud" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站默认线路托管于Vercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站项目由Gtihub托管" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" rel="external nofollow noreferrer" style="margin-inline:5px" data-title="本站采用知识共享署名-非商业性使用-相同方式共享4.0国际许可协议进行许可" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>')}for(var elist="null".split(","),cpage=location.pathname,epage="all",flag=0,i=0;i<elist.length;i++)cpage.includes(elist[i])&&flag++;("all"===epage&&0==flag||epage===cpage)&&butterfly_footer_beautify_injector_config()</script><script defer src="https://cdn.keyiqingxin.cn/jquery/jquery.min.js"></script><script defer src="https://cdn.keyiqingxin.cn/kity/kity.min.js"></script><script defer src="https://cdn.keyiqingxin.cn/kityminder/kityminder.core.min.js"></script><script defer src="https://cdn.keyiqingxin.cn/tag_plugin/mindmap.js"></script><script async src="https://cdn.keyiqingxin.cn/js/font_2032782_8d5kxvn09md.js"></script><script>window.imageLazyLoadSetting={isSPA:!1,preloadRatio:1,processImages:null}</script><script>window.addEventListener("load",(function(){var a=/\.(gif|jpg|jpeg|tiff|png)$/i,e=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach((function(t){var r=t.parentNode;"A"===r.tagName&&(r.href.match(a)||r.href.match(e))&&(r.href=t.dataset.original)}))}))</script><script>!function(t){t.imageLazyLoadSetting.processImages=o;var e=t.imageLazyLoadSetting.isSPA,n=t.imageLazyLoadSetting.preloadRatio||1,i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]"));function o(){e&&(i=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")));for(var o,a=0;a<i.length;a++)0<=(o=(o=i[a]).getBoundingClientRect()).bottom&&0<=o.left&&o.top<=(t.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,o,r=i[a];t=r,e=function(){i=i.filter((function(t){return r!==t}))},n=new Image,o=t.getAttribute("data-original"),n.onload=function(){t.src=o,e&&e()},t.src!==o&&(n.src=o)}()}o(),t.addEventListener("scroll",(function(){var e,n;e=o,n=t,clearTimeout(e.tId),e.tId=setTimeout((function(){e.call(n)}),500)}))}(this)</script></body></html>